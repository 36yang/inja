<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Inja: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-doxygen.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Inja
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
   <div id="projectbrief">A Template Engine for Modern C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Inja Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/pantor/inja/releases"></a></p>
<p><a href="https://travis-ci.org/pantor/inja"></a> <a href="https://ci.appveyor.com/project/pantor/inja"></a> <a href="https://www.codacy.com/app/pantor/inja?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=pantor/inja&amp;amp;utm_campaign=Badge_Grade"></a> <a href="https://github.com/pantor/inja/releases"></a> <a href="http://github.com/pantor/inja/issues"></a> <a href="https://raw.githubusercontent.com/pantor/inja/master/LICENSE"></a></p>
<p>Inja is a template engine for modern C++, loosely inspired by <a href="http://jinja.pocoo.org">jinja</a> for python. It has an easy and yet powerful template syntax with all variables, loops, conditions, includes, callbacks, comments you need, nested and combined as you like. Inja uses the wonderful <a href="https://github.com/nlohmann/json">json</a> library by nlohmann for data input and handling. Most importantly, <em>inja</em> needs only two header files, which is (nearly) as trivial as integration in C++ can get. Of course, everything is tested on all relevant compilers. Here is what it looks like:</p>
<div class="fragment"><div class="line">{c++}</div><div class="line">json data;</div><div class="line">data[&quot;name&quot;] = &quot;world&quot;;</div><div class="line"></div><div class="line">inja::render(&quot;Hello {{ name }}!&quot;, data); // Returns &quot;Hello world!&quot;</div></div><!-- fragment --><h2>Integration</h2>
<p>Inja is a headers only library, which can be downloaded from the <a href="https://github.com/pantor/inja/releases">releases</a> or directly from the <code>include/</code> or <code>single_include/</code> folder. Inja uses <code>nlohmann/json.hpp</code> as its single dependency, so make sure it can be included from <code><a class="el" href="inja_8hpp_source.html">inja.hpp</a></code>. json can be downloaded <a href="https://github.com/nlohmann/json/releases">here</a>. Then integration is as easy as:</p>
<div class="fragment"><div class="line">{c++}</div><div class="line">#include &lt;inja.hpp&gt;</div><div class="line"></div><div class="line">// Just for convenience</div><div class="line">using namespace inja;</div><div class="line">using json = nlohmann::json;</div></div><!-- fragment --><p>If you are using the <a href="http://mesonbuild.com">Meson Build System</a>, then you can wrap this repository as a subproject.</p>
<p>If you are using <a href="https://conan.io">Conan</a> to manage your dependencies, have a look at <a href="https://github.com/DEGoodmanWilson/conan-inja">this repository</a>. Please file issues <a href="https://github.com/DEGoodmanWilson/conan-inja/issues">here</a> if you experience problems with the packages.</p>
<p>You can also integrate inja in your project using <a href="https://github.com/ruslo/hunter">Hunter</a>, a package manager for C++.</p>
<p>If you are using <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> on your project for external dependencies, then you can use the <a href="https://github.com/Microsoft/vcpkg/tree/master/ports/inja">inja package</a>. Please see the vcpkg project for any issues regarding the packaging.</p>
<p>If you are using <a href="https://cget.readthedocs.io/en/latest/">cget</a>, you can install the latest development version with <code>cget install pantor/inja</code>. A specific version can be installed with <code>cget install pantor/inja@v2.1.0</code>.</p>
<h2>Tutorial</h2>
<p>This tutorial will give you an idea how to use inja. It will explain the most important concepts and give practical advices using examples and executable code. Beside this tutorial, you may check out the <a href="https://pantor.github.io/inja">documentation</a>.</p>
<h3>Template Rendering</h3>
<p>The basic template rendering takes a template as a <code>std::string</code> and a <code>json</code> object for all data. It returns the rendered template as an <code>std::string</code>.</p>
<div class="fragment"><div class="line">{c++}</div><div class="line">json data;</div><div class="line">data[&quot;name&quot;] = &quot;world&quot;;</div><div class="line"></div><div class="line">render(&quot;Hello {{ name }}!&quot;, data); // Returns std::string &quot;Hello world!&quot;</div><div class="line">render_to(std::cout, &quot;Hello {{ name }}!&quot;, data); // Prints &quot;Hello world!&quot;</div></div><!-- fragment --><p>For more advanced usage, an environment is recommended. </p><div class="fragment"><div class="line">{c++}</div><div class="line">Environment env;</div><div class="line"></div><div class="line">// Render a string with json data</div><div class="line">std::string result = env.render(&quot;Hello {{ name }}!&quot;, data); // &quot;Hello world!&quot;</div><div class="line"></div><div class="line">// Or directly read a template file</div><div class="line">Template temp = env.parse_template(&quot;./templates/greeting.txt&quot;);</div><div class="line">std::string result = env.render(temp, data); // &quot;Hello world!&quot;</div><div class="line"></div><div class="line">data[&quot;name&quot;] = &quot;Inja&quot;;</div><div class="line">std::string result = env.render(temp, data); // &quot;Hello Inja!&quot;</div><div class="line"></div><div class="line">// Or read the template file (and/or the json file) directly from the environment</div><div class="line">result = env.render_file(&quot;./templates/greeting.txt&quot;, data);</div><div class="line">result = env.render_file_with_json_file(&quot;./templates/greeting.txt&quot;, &quot;./data.json&quot;);</div><div class="line"></div><div class="line">// Or write a rendered template file</div><div class="line">env.write(temp, data, &quot;./result.txt&quot;);</div><div class="line">env.write_with_json_file(&quot;./templates/greeting.txt&quot;, &quot;./data.json&quot;, &quot;./result.txt&quot;);</div></div><!-- fragment --><p>The environment class can be configured to your needs. </p><div class="fragment"><div class="line">{c++}</div><div class="line">// With default settings</div><div class="line">Environment env_default;</div><div class="line"></div><div class="line">// With global path to template files and where files will be saved</div><div class="line">Environment env_1 {&quot;../path/templates/&quot;};</div><div class="line"></div><div class="line">// With separate input and output path</div><div class="line">Environment env_2 {&quot;../path/templates/&quot;, &quot;../path/results/&quot;};</div><div class="line"></div><div class="line">// Choose between dot notation (like Jinja2) and JSON pointer to access elements</div><div class="line">env.set_element_notation(ElementNotation::Dot); // (default) e.g. time.start</div><div class="line">env.set_element_notation(ElementNotation::Pointer); // e.g. time/start</div><div class="line"></div><div class="line">// With other opening and closing strings (here the defaults)</div><div class="line">env.set_expression(&quot;{{&quot;, &quot;}}&quot;); // Expressions</div><div class="line">env.set_comment(&quot;{#&quot;, &quot;#}&quot;); // Comments</div><div class="line">env.set_statement(&quot;{%&quot;, &quot;%}&quot;); // Statements {% %} for many things, see below</div><div class="line">env.set_line_statement(&quot;##&quot;); // Line statements ## (just an opener)</div></div><!-- fragment --><h3>Variables</h3>
<p>Variables are rendered within the <code>{{ ... }}</code> expressions. </p><div class="fragment"><div class="line">{c++}</div><div class="line">json data;</div><div class="line">data[&quot;neighbour&quot;] = &quot;Peter&quot;;</div><div class="line">data[&quot;guests&quot;] = {&quot;Jeff&quot;, &quot;Tom&quot;, &quot;Patrick&quot;};</div><div class="line">data[&quot;time&quot;][&quot;start&quot;] = 16;</div><div class="line">data[&quot;time&quot;][&quot;end&quot;] = 22;</div><div class="line"></div><div class="line">// Indexing in array</div><div class="line">render(&quot;{{ guests.1 }}&quot;, data); // &quot;Tom&quot;</div><div class="line"></div><div class="line">// Objects</div><div class="line">render(&quot;{{ time.start }} to {{ time.end }}pm&quot;, data); // &quot;16 to 22pm&quot;</div></div><!-- fragment --><p> In general, the variables can be fetched using the <a href="https://tools.ietf.org/html/rfc6901">JSON Pointer</a> syntax. For convenience, the leading <code>/</code> can be omitted. If no variable is found, valid JSON is printed directly, otherwise an error is thrown.</p>
<h3>Statements</h3>
<p>Statements can be written either with the <code>{% ... %}</code> syntax or the <code>##</code> syntax for entire lines. The most important statements are loops, conditions and file includes. All statements can be nested.</p>
<h4>Loops</h4>
<div class="fragment"><div class="line">{c++}</div><div class="line">// Combining loops and line statements</div><div class="line">render(R&quot;(Guest List:</div><div class="line">## for guest in guests</div><div class="line">    {{ loop.index1 }}: {{ guest }}</div><div class="line">## endfor )&quot;, data)</div><div class="line"></div><div class="line">/* Guest List:</div><div class="line">    1: Jeff</div><div class="line">    2: Tom</div><div class="line">    3: Patrick */</div></div><!-- fragment --><p> In a loop, the special variables <code>loop/index (number)</code>, <code>loop/index1 (number)</code>, <code>loop/is_first (boolean)</code> and <code>loop/is_last (boolean)</code> are defined. In nested loops, the parent loop variables are available e.g. via <code>loop/parent/index</code>. You can also iterate over objects like <code>{% for key, value in time %}</code>.</p>
<h4>Conditions</h4>
<p>Conditions support the typical if, else if and else statements. Following conditions are for example possible: </p><div class="fragment"><div class="line">{c++}</div><div class="line">// Standard comparisons with variable</div><div class="line">render(&quot;{% if time.hour &gt;= 18 %}…{% endif %}&quot;, data); // True</div><div class="line"></div><div class="line">// Variable in list</div><div class="line">render(&quot;{% if neighbour in guests %}…{% endif %}&quot;, data); // True</div><div class="line"></div><div class="line">// Logical operations</div><div class="line">render(&quot;{% if guest_count &lt; 5 and all_tired %}…{% endif %}&quot;, data); // True</div><div class="line"></div><div class="line">// Negations</div><div class="line">render(&quot;{% if not guest_count %}…{% endif %}&quot;, data); // True</div></div><!-- fragment --><h4>Includes</h4>
<p>You can either include other template files or already parsed templates. </p><div class="fragment"><div class="line">{c++}</div><div class="line">// Other template files are included relative from the current file location</div><div class="line">render(&quot;{% include \&quot;footer.html\&quot; %}&quot;, data);</div><div class="line"></div><div class="line">// To include in-memory templates, add them to the environment first</div><div class="line">inja::Template content_template = env.parse(&quot;Hello {{ neighbour }}!&quot;);</div><div class="line">env.include_template(&quot;content&quot;, content_template);</div><div class="line">render(&quot;Content: {% include \&quot;content\&quot; %}&quot;, data); // &quot;Content: Hello Peter!&quot;</div></div><!-- fragment --><h3>Functions</h3>
<p>A few functions are implemented within the inja template syntax. They can be called with </p><div class="fragment"><div class="line">{c++}</div><div class="line">// Upper and lower function, for string cases</div><div class="line">render(&quot;Hello {{ upper(neighbour) }}!&quot;, data); // &quot;Hello PETER!&quot;</div><div class="line">render(&quot;Hello {{ lower(neighbour) }}!&quot;, data); // &quot;Hello peter!&quot;</div><div class="line"></div><div class="line">// Range function, useful for loops</div><div class="line">render(&quot;{% for i in range(4) %}{{ loop.index1 }}{% endfor %}&quot;, data); // &quot;1234&quot;</div><div class="line">render(&quot;{% for i in range(3) %}{{ at(guests, i) }} {% endfor %}&quot;, data); // &quot;Jeff Tom Patrick &quot;</div><div class="line"></div><div class="line">// Length function (please don&#39;t combine with range, use list directly...)</div><div class="line">render(&quot;I count {{ length(guests) }} guests.&quot;, data); // &quot;I count 3 guests.&quot;</div><div class="line"></div><div class="line">// Get first and last element in a list</div><div class="line">render(&quot;{{ first(guests) }} was first.&quot;, data); // &quot;Jeff was first.&quot;</div><div class="line">render(&quot;{{ last(guests) }} was last.&quot;, data); // &quot;Patir was last.&quot;</div><div class="line"></div><div class="line">// Sort a list</div><div class="line">render(&quot;{{ sort([3,2,1]) }}&quot;, data); // &quot;[1,2,3]&quot;</div><div class="line">render(&quot;{{ sort(guests) }}&quot;, data); // &quot;[\&quot;Jeff\&quot;, \&quot;Patrick\&quot;, \&quot;Tom\&quot;]&quot;</div><div class="line"></div><div class="line">// Round numbers to a given precision</div><div class="line">render(&quot;{{ round(3.1415, 0) }}&quot;, data); // 3</div><div class="line">render(&quot;{{ round(3.1415, 3) }}&quot;, data); // 3.142</div><div class="line"></div><div class="line">// Check if a value is odd, even or divisible by a number</div><div class="line">render(&quot;{{ odd(42) }}&quot;, data); // false</div><div class="line">render(&quot;{{ even(42) }}&quot;, data); // true</div><div class="line">render(&quot;{{ divisibleBy(42, 7) }}&quot;, data); // true</div><div class="line"></div><div class="line">// Maximum and minimum values from a list</div><div class="line">render(&quot;{{ max([1, 2, 3]) }}&quot;, data); // 3</div><div class="line">render(&quot;{{ min([-2.4, -1.2, 4.5]) }}&quot;, data); // -2.4</div><div class="line"></div><div class="line">// Convert strings to numbers</div><div class="line">render(&quot;{{ int(\&quot;2\&quot;) == 2 }}&quot;, data); // true</div><div class="line">render(&quot;{{ float(\&quot;1.8\&quot;) &gt; 2 }}&quot;, data); // false</div><div class="line"></div><div class="line">// Set default values if variables are not defined</div><div class="line">render(&quot;Hello {{ default(neighbour, \&quot;my friend\&quot;) }}!&quot;, data); // &quot;Hello Peter!&quot;</div><div class="line">render(&quot;Hello {{ default(colleague, \&quot;my friend\&quot;) }}!&quot;, data); // &quot;Hello my friend!&quot;</div><div class="line"></div><div class="line">// Check if a key exists in an object</div><div class="line">render(&quot;{{ exists(\&quot;guests\&quot;) }}&quot;, data); // &quot;true&quot;</div><div class="line">render(&quot;{{ exists(\&quot;city\&quot;) }}&quot;, data); // &quot;false&quot;</div><div class="line">render(&quot;{{ existsIn(time, \&quot;start\&quot;) }}&quot;, data); // &quot;true&quot;</div><div class="line">render(&quot;{{ existsIn(time, neighbour) }}&quot;, data); // &quot;false&quot;</div><div class="line"></div><div class="line">// Check if a key is a specific type</div><div class="line">render(&quot;{{ isString(neighbour) }}&quot;, data); // &quot;true&quot;</div><div class="line">render(&quot;{{ isArray(guests) }}&quot;, data); // &quot;true&quot;</div><div class="line">// Implemented type checks: isArray, isBoolean, isFloat, isInteger, isNumber, isObject, isString,</div></div><!-- fragment --><h3>Whitespace Control</h3>
<p>In the default configuration, no whitespace is removed while rendering the file. To support a more readable template style, you can configure the environment to control whitespaces before and after a statement automatically. While enabling <code>set_trim</code> removes the first newline after a statement, <code>set_lstrip</code> strips tabs and spaces from the beginning of a line to the start of a block.</p>
<div class="fragment"><div class="line">{c++}</div><div class="line">Environment env;</div><div class="line">env.set_trim(true);</div><div class="line">env.set_lstrip(true);</div></div><!-- fragment --><p>With both <code>trim</code> and <code>lstrip</code> enabled, you can put statements on their own lines.</p>
<h3>Callbacks</h3>
<p>You can create your own and more complex functions with callbacks. </p><div class="fragment"><div class="line">{c++}</div><div class="line">Environment env;</div><div class="line"></div><div class="line">/*</div><div class="line"> * Callbacks are defined by its:</div><div class="line"> * - name</div><div class="line"> * - number of arguments</div><div class="line"> * - callback function. Implemented with std::function, you can for example use lambdas.</div><div class="line"> */</div><div class="line">env.add_callback(&quot;double&quot;, 1, [](Arguments&amp; args) {</div><div class="line">    int number = args.at(0)-&gt;get&lt;int&gt;(); // Adapt the index and type of the argument</div><div class="line">    return 2 * number;</div><div class="line">});</div><div class="line"></div><div class="line">// You can then use a callback like a regular function</div><div class="line">env.render(&quot;{{ double(16) }}&quot;, data); // &quot;32&quot;</div><div class="line"></div><div class="line">// A callback without argument can be used like a dynamic variable:</div><div class="line">std::string greet = &quot;Hello&quot;;</div><div class="line">env.add_callback(&quot;double-greetings&quot;, 0, [greet](Arguments args) {</div><div class="line">    return greet + &quot; &quot; + greet + &quot;!&quot;;</div><div class="line">});</div><div class="line">env.render(&quot;{{ double-greetings }}&quot;, data); // &quot;Hello Hello!&quot;</div></div><!-- fragment --><h3>Comments</h3>
<p>Comments can be written with the <code>{# ... #}</code> syntax. </p><div class="fragment"><div class="line">{c++}</div><div class="line">render(&quot;Hello{# Todo #}!&quot;, data); // &quot;Hello!&quot;</div></div><!-- fragment --><h2>Supported compilers</h2>
<p>Inja uses <code>string_view</code> from C++17, but includes the <a href="https://github.com/martinmoene/string-view-lite">polyfill</a> from martinmoene. This way, the minimum version is C++11. Currently, the following compilers are tested:</p>
<ul>
<li>GCC 5.0 - 8.0 (and possibly later)</li>
<li>Clang 5.0 - 6.0 (and possibly later)</li>
<li>Microsoft Visual C++ 2015 - 2017 (and possibly later) </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
